!function(){function RequireDependencyError(e){this.name="RequireDependencyError",this.message=e||""}RequireDependencyError.prototype=Error.prototype;var definitions={},require=function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];if(!definitions.hasOwnProperty(r))throw new RequireDependencyError("No module named "+r+" has been defined");n[i]=definitions[r]}return t.apply({},n)},define=function(e,t,n){definitions.hasOwnProperty(e)||("function"==typeof t?definitions[e]=require([],t):definitions[e]=require(t,n))};define("define",function(){}),define("delivery/createiframe",[],function(){"use strict";return function(e,t,n){"undefined"==typeof n&&(n=window.document);var i=n.createElement("iframe");if(t&&(i.src=t),i.setAttribute("frameBorder","0"),i.setAttribute("marginWidth","0"),i.setAttribute("marginHeight","0"),i.setAttribute("allowTransparency","true"),i.setAttribute("scrolling","no"),i.setAttribute("vspace","0"),i.setAttribute("hspace","0"),i.setAttribute("allowfullscreen","allowfullscreen"),i.setAttribute("title","Advertisement"),i.style.padding="0px",i.style.marginTop="0px",i.style.marginLeft="auto",i.style.marginRight="auto",/^\d+x\d+$/.test(e)){var r=e.split("x");i.style.width=Number(r[0])+"px",i.style.height=Number(r[1])+"px"}return i}}),define("delivery/windowutil",[],function(){"use strict";function e(e,t){var n,i,r,o=this;this.testWindow=function(e){try{var t=e.document,n=t.documentElement,i=t.createComment("accessible"),r=n.appendChild(i);return n.removeChild(r),!0}catch(o){}return!1},this.topWindow=function(){if("undefined"==typeof n){try{"undefined"==typeof t.document||t.document===e.document&&e.top.document!==e.document||(n=t,i=!0)}catch(r){}"undefined"==typeof n&&(n=e,i=!1),n=o.findTopWindow(n),n.document===e.document||o.testWindow(n)||(n=e,i=!1)}return n},this.topChildWindow=function(){o.topWindow();var n=t.parent;if(i&&n.document===e.document)return null;for(var r=e;r.parent!==n;)r=r.parent;return r},this.findTopWindow=function(e){try{var t=e.document;if("FRAMESET"===t.body.nodeName){var n=o.topChildWindow();if(null===n)return e;for(var i=t.body.getElementsByTagName("frame"),r=0;r<i.length;r++){var d=i[r];if(n===d.contentWindow)return n}}}catch(a){}return e},this.isFramed=function(){return!o.topAccess()||n.document!==e.document},this.topAccess=function(){return o.topWindow(),i},this.frameDepth=function(e){for(var t=0,n=e,i=e.top.parent;n!==i;)t++,n=n.parent;return t},this.topNode=function(){if("undefined"==typeof r){var t=o.topChildWindow();if(o.topAccess()&&o.isFramed()&&null!==t){for(var i=n.document.getElementsByTagName("iframe"),d=0;d<i.length;d++)if(i[d].contentWindow===t)return r=i[d];if(1===o.frameDepth(e))for(d=0;d<i.length;d++)if(i[d].contentWindow.document===t.document)return r=i[d]}r=null}return r}}return new e(window,window.top)}),define("delivery/json",[],function(){"use strict";var localJSON=window.JSON||{};return("undefined"==typeof localJSON.stringify||'{"test":["1"]}'!==localJSON.stringify({test:["1"]}))&&(localJSON.stringify=function(e){var t=typeof e;if("object"!==t||null===e)return"string"===t&&(e='"'+e+'"'),String(e);var n,i,r=[],o=e&&e.constructor===Array;for(n in e)i=e[n],t=typeof i,"function"!==t&&("string"===t?i='"'+i+'"':"object"===t&&null!==i&&(i=localJSON.stringify(i)),r.push((o?"":'"'+n+'":')+String(i)));return(o?"[":"{")+String(r)+(o?"]":"}")},localJSON.parse=localJSON.parse||function(string){return eval("("+string+")")}),localJSON}),require(["delivery/createiframe","delivery/windowutil","delivery/json"],function(e,t,n){function i(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&;]"+e+"=([^&#;]*)",n=new RegExp(t),i=n.exec(window.location.href);return null==i?"":i[1]}function r(e){for(var t=0,n=e;n!==e.top;)t++,n=n.parent;return t}var o=5,d=decodeURIComponent(i("tagurl")),a=window.document,c={"127.0.0.1":1,"ads.saymedia.com":1,"stage.ads.saymedia.com":1,"dove.saymedia.com":"dove","dove.stage.saymedia.com":"dove","dove.qa.saymedia.com":"dove"},u=d.match(/^https?:\/\/([^\/:]+)[:\/]/)[1];if(u in c){var s,f=t.topWindow();if(f!==window.top){if(/^https?:\/\/www\./i.test(window.location)&&r(window)<=o){var l=e(null,window.location.toString().replace(/:\/\/www\./i,"://"),a),p=window.innerHeight||a.documentElement.clientHeight||a.body.clientHeight;return l.style.width="100%",p?l.style.height=p+"px":l.style.height="100%",void a.body.appendChild(l)}s=""}else s=encodeURIComponent(f.location).replace(/\//g,"%252F");if(""!=i("ref"))d=d.replace(/ref=[^\/&;#?]*/,"ref="+s);else{var m=-1==d.indexOf("?")?"?":"&";d+=m+"ref="+s}if("dove"===c[u]){var w=decodeURIComponent(i("doveparams")),h=n.parse(w);return a.write("<script src='"+d+"'></script>"),void a.write("<script id='"+h.rid+"'>dove.loadAd("+n.stringify(h.spec)+", '"+h.rid+"', '"+h.dim+"');</script>")}a.write('<div id="ve_iframeBusterDiv"></div>'),a.write("<script src='"+d+"'></script>")}else{console&&console.log("Attempt to load ad tag from unapproved domain.");for(var y=(new Date).getTime().toString(16),v=32-y.length,g=0;v>g;g++)y+=Math.floor(16*Math.random()).toString(16);var b=d.match(/\/(ai[0-9a-f]+)/),g=a.createElement("img"),A="https://beacon.saymedia.com/exception?ecode=xs&curtime="+(new Date).getTime()+"&rid="+y+"&intgid="+b[1]+"&url="+encodeURIComponent(window.location);g.src=A}}),define("iframebuster",function(){})}();